<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            width: 300px;
            padding: 16px;
            font-family: sans-serif;
        }

        .btn {
            background: #ec4899;
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        .logo {
            font-weight: bold;
            margin-bottom: 15px;
            display: block;
        }
    </style>
</head>

<body>
    <span class="logo">üîç BugHunter AI</span>
    <p style="font-size: 12px; color: #666;">Scan the current tab for bugs and accessibility issues.</p>
    <button id="scanBtn" class="btn">üöÄ Start AI Audit</button>

    <script>
        document.getElementById('scanBtn').onclick = async () => {
            let [tab] = await chrome.tabs.query({ active: true, currentWindow: true });

            // Call your live Railway API
            const response = await fetch('http://localhost:3000/api/scan', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ url: tab.url })
            });

            const data = await response.json();
            if (data.success) {
                alert('Scan started! View results in your dashboard.');
            }
        };
    </script>
</body>

</html>